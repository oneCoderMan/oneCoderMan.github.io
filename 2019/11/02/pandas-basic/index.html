<!DOCTYPE html>





<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.0">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.0">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.0" color="#222">
  <meta http-equiv="Cache-Control" content="no-transform">
  <meta http-equiv="Cache-Control" content="no-siteapp">

<link rel="stylesheet" href="/css/main.css?v=7.4.0">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":false,"show_result":false,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":true,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: 'search.xml',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: 'Copy',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="pandas数据处理的基本操作">
<meta name="keywords" content="Python,pandas">
<meta property="og:type" content="article">
<meta property="og:title" content="pandas-basic">
<meta property="og:url" content="http://yoursite.com/2019/11/02/pandas-basic/index.html">
<meta property="og:site_name" content="CoderSim&#39;s Growth Diary">
<meta property="og:description" content="pandas数据处理的基本操作">
<meta property="og:locale" content="en">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/01.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/02.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/03.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/04.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/4_1.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/05.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/06.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/07.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/08.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/09.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/10.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/11.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/12.png">
<meta property="og:image" content="http://yoursite.com/images/pandas-basic/13.png">
<meta property="og:updated_time" content="2019-11-02T08:13:13.148Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="pandas-basic">
<meta name="twitter:description" content="pandas数据处理的基本操作">
<meta name="twitter:image" content="http://yoursite.com/images/pandas-basic/01.png">
  <link rel="canonical" href="http://yoursite.com/2019/11/02/pandas-basic/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>pandas-basic | CoderSim's Growth Diary</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">
  <div class="container use-motion">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">CoderSim's Growth Diary</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <h1 class="site-subtitle" itemprop="description">extoll the world's best C and Java</h1>
      
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
      
      
      
        
        <li class="menu-item menu-item-home">
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br>Home</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-about">
      
    

    <a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i> <br>About</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-tags">
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br>Tags</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-categories">
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br>Categories</a>

  </li>
      
      
      
        
        <li class="menu-item menu-item-archives">
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br>Archives</a>

  </li>
      <li class="menu-item menu-item-search">
        <a href="javascript:;" class="popup-trigger">
        
          <i class="menu-item-icon fa fa-search fa-fw"></i> <br>Search</a>
      </li>
    
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input-container">
    <input autocomplete="off" autocorrect="off" autocapitalize="none"
           placeholder="Searching..." spellcheck="false"
           type="text" id="search-input">
  </div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div id="search-result"></div>

</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
            

          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
      <article itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block post">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/11/02/pandas-basic/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="CoderSim">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/assets/blogImages/headImag.jpg">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="CoderSim's Growth Diary">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">pandas-basic

          
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">Posted on</span>

              
                
              

              <time title="Created: 2019-11-02 12:34:48 / Modified: 16:13:13" itemprop="dateCreated datePublished" datetime="2019-11-02T12:34:48+08:00">2019-11-02</time>
            </span>
          
            

            
          
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Numpy/" itemprop="url" rel="index"><span itemprop="name">Numpy</span></a></span>

                
                
              
            </span>
          

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>pandas数据处理的基本操作</p>
<a id="more"></a>
<p>Python进行数据预处理的库，基于Numpy，这里主要涉及到数据类型，读取，选择，删减，填充。<br>使用前导入库<code>import pandas as pd</code></p>
<h1 id="1-pandas数据类型"><a href="#1-pandas数据类型" class="headerlink" title="1. pandas数据类型"></a>1. pandas数据类型</h1><table>
<tr><th>dataType</th><th>说明</th><th>备注</th></tr>
<tr><td>Series</td><td>一维数组</td><td>常见</td></tr>
<tr><td>DataFrame</td><td>二维数组</td><td>常见</td></tr>
<tr><td>Panel</td><td>三维数组</td><td>不常见</td></tr>
</table>

<h2 id="1-1Series简介"><a href="#1-1Series简介" class="headerlink" title="1.1Series简介"></a>1.1Series简介</h2><p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.Series.html" target="_blank" rel="noopener">官网</a><br>Pandas 中的一维数组，其可以储存整数、浮点数、字符串等类型的数据，它的结构如下所示。具有行索引。<br><code>pandas.Series(data=None, index=None)</code></p>
<h3 id="基于Python字典创建Series"><a href="#基于Python字典创建Series" class="headerlink" title="基于Python字典创建Series"></a>基于Python字典创建Series</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">s = pd.Series(&#123;&apos;c1&apos;: 1, &apos;c2&apos;: 2, &apos;c3&apos;: 3&#125;)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/01.png" alt="pic01"></p>
<h3 id="基于NumPy一维ndarray数组创建"><a href="#基于NumPy一维ndarray数组创建" class="headerlink" title="基于NumPy一维ndarray数组创建"></a>基于NumPy一维ndarray数组创建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">f =np.random.randn(5)</span><br><span class="line">print(f)</span><br><span class="line">s = pd.Series(f)</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/02.png" alt="pic02"><br><strong>注意：默认索引从0开始</strong></p>
<h2 id="1-2-DataFrame简介"><a href="#1-2-DataFrame简介" class="headerlink" title="1.2 DataFrame简介"></a>1.2 DataFrame简介</h2><p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/frame.html" target="_blank" rel="noopener">官网</a><br>Pandas 中最为常见、最重要且使用频率最高的数据结构，与excel类似，二维表格，具有行列索引。<br>基本结构是这样的<code>pandas.DataFrame(data=None, index=None, columns=None)</code></p>
<h3 id="基于列表字典创建"><a href="#基于列表字典创建" class="headerlink" title="基于列表字典创建"></a>基于列表字典创建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;&apos;c1&apos;: [1, 2, 3],</span><br><span class="line">                   &apos;c2&apos;: [4, 5, 6]&#125;)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<h3 id="基于Series字典创建"><a href="#基于Series字典创建" class="headerlink" title="基于Series字典创建"></a>基于Series字典创建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;&apos;c1&apos;: pd.Series([1, 2, 3]),</span><br><span class="line">                   &apos;c2&apos;: pd.Series([4, 5, 6])&#125;)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<h3 id="基于字典列表"><a href="#基于字典列表" class="headerlink" title="基于字典列表"></a>基于字典列表</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame([&#123;&apos;c1&apos;: 1, &apos;c2&apos;: 4&#125;,</span><br><span class="line">                   &#123;&apos;c1&apos;: 2, &apos;c2&apos;: 5&#125;,</span><br><span class="line">                   &#123;&apos;c1&apos;: 3, &apos;c2&apos;: 6&#125;])</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/03.png" alt="pic02"></p>
<h3 id="基于NumPy的二维ndarray创建"><a href="#基于NumPy的二维ndarray创建" class="headerlink" title="基于NumPy的二维ndarray创建"></a>基于NumPy的二维ndarray创建</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">c=np.random.randint(5, size=(2, 4))</span><br><span class="line">print(c)</span><br><span class="line">df = pd.DataFrame(c)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/04.png" alt="pic02"><br>不指定列的时候索引或者名称是数字从0开始<br>指定列索引</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.rand(2, 5), columns=list(&apos;ABCDE&apos;))</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/4_1.png" alt="pic02"></p>
<h1 id="2-数据读取"><a href="#2-数据读取" class="headerlink" title="2.数据读取"></a>2.数据读取</h1><p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/io.html" target="_blank" rel="noopener">官方文档</a><br>一般可以用于读取csv文件，其他文件格式参考官方文档</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(&quot;./data/los_census.csv&quot;)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>数据来源<code>https://labfile.oss.aliyuncs.com/courses/906/los_census.csv</code></p>
<h2 id="数据省略号解决方案"><a href="#数据省略号解决方案" class="headerlink" title="数据省略号解决方案"></a>数据省略号解决方案</h2><blockquote>
<p>数据显示的时候，会有省略号，具体见参考文献[2]</p>
</blockquote>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">pd.set_option(&apos;display.max_columns&apos;, 1000)</span><br><span class="line">pd.set_option(&apos;display.width&apos;, 1000)</span><br><span class="line">pd.set_option(&apos;display.max_colwidth&apos;, 1000)</span><br></pre></td></tr></table></figure>

<h2 id="数据预览"><a href="#数据预览" class="headerlink" title="数据预览"></a>数据预览</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">df.head()  # 默认显示前 5 条</span><br><span class="line">df.tail(10)  # 指定显示后 10 条</span><br><span class="line">df.describe() # 数据集概览，计数，最值，平均值</span><br><span class="line">df.values # DataFrame 转换为 NumPy 数组</span><br><span class="line">df.index  # 查看索引</span><br><span class="line">df.columns  # 查看列名</span><br><span class="line">df.shape  # 查看形状</span><br></pre></td></tr></table></figure>

<h1 id="3-数据选择"><a href="#3-数据选择" class="headerlink" title="3.数据选择"></a>3.数据选择</h1><h2 id="基于索引选择"><a href="#基于索引选择" class="headerlink" title="基于索引选择"></a>基于索引选择</h2><p>主要涉及到<code>.iloc</code>，<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.iloc.html#pandas.DataFrame.iloc" target="_blank" rel="noopener">官方文档</a><br><strong>默认从0开始</strong>，类似与切片<br>主要结构<code>df.iloc[[rows],[coloms]]</code></p>
<h3 id="选择特定的行"><a href="#选择特定的行" class="headerlink" title="选择特定的行"></a>选择特定的行</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(&quot;./data/los_census.csv&quot;)</span><br><span class="line">selectd=df.iloc[:3]  #选择前三行</span><br><span class="line">print(selectd)</span><br></pre></td></tr></table></figure>

<p>选择第三行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selectd=df.iloc[3]  #选择前三行</span><br></pre></td></tr></table></figure>

<p>选择1，3，5行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">selectd=df.iloc[[1,3,5]]  #选择前三行</span><br></pre></td></tr></table></figure>

<h3 id="选择特定的列"><a href="#选择特定的列" class="headerlink" title="选择特定的列"></a>选择特定的列</h3><p>选择第2-4列的所有数据，下标从0开始，最后一个不取</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(&quot;./data/los_census.csv&quot;)</span><br><span class="line">selectd=df.iloc[:, 1:4]</span><br><span class="line">print(selectd)</span><br></pre></td></tr></table></figure>

<h2 id="基于标签名选择"><a href="#基于标签名选择" class="headerlink" title="基于标签名选择"></a>基于标签名选择</h2><p>主要是<code>.loc</code>，<a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.loc.html#pandas.DataFrame.loc" target="_blank" rel="noopener">官方文档</a></p>
<p>选择1，3，5行</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[[0, 2, 4]]</span><br></pre></td></tr></table></figure>

<p>选择2-4列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(&quot;./data/los_census.csv&quot;)</span><br><span class="line">print(df.columns )</span><br><span class="line">c = df.loc[:, &apos;Total Population&apos;:&apos;Total Males&apos;] #选择2-4列</span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/05.png" alt="pic02"><br>选择1，3行和Median Age及其后面的列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.loc[[0, 2], &apos;Median Age&apos;:]</span><br></pre></td></tr></table></figure>

<h1 id="4-数据删减"><a href="#4-数据删减" class="headerlink" title="4.数据删减"></a>4.数据删减</h1><p>与数据选择可以补充使用，可以去掉指定的行或者列，<code>DataFrame.drop</code>等价选择了<br><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.drop.html#pandas.DataFrame.drop" target="_blank" rel="noopener">官方文档</a><br>参数<code>axis=1</code>指定按列删除数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">df = pd.read_csv(&quot;./data/los_census.csv&quot;)</span><br><span class="line">print(df.columns )</span><br><span class="line">c = df.drop(labels=[&apos;Median Age&apos;, &apos;Total Males&apos;], axis=1)</span><br><span class="line">print(c)</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/06.png" alt="pic02"><br>数据去重</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.drop_duplicates()</span><br></pre></td></tr></table></figure>

<p>删除空缺的行或者列</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">df.dropna()</span><br></pre></td></tr></table></figure>

<h1 id="5-数据填充"><a href="#5-数据填充" class="headerlink" title="5.数据填充"></a>5.数据填充</h1><p>对缺少的值进行数据填充</p>
<h2 id="检测缺失值"><a href="#检测缺失值" class="headerlink" title="检测缺失值"></a>检测缺失值</h2><p>对于不同数据的缺失都采用<code>NaN</code>作为缺失标记，时间戳丢失采用<code>NAT</code>标记。<br>主要有两个函数<code>isna()</code>和<code>notna</code><br>构建一个含缺失数据的数据</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(np.random.rand(9, 5), columns=list(&apos;ABCDE&apos;))</span><br><span class="line"># 插入 T 列，并打上时间戳</span><br><span class="line">df.insert(value=pd.Timestamp(&apos;2017-10-1&apos;), loc=0, column=&apos;Time&apos;)</span><br><span class="line"># 将 1, 3, 5 列的 1，3，5 行置为缺失值</span><br><span class="line">df.iloc[[1, 3, 5, 7], [0, 2, 4]] = np.nan</span><br><span class="line"># 将 2, 4, 6 列的 2，4，6 行置为缺失值</span><br><span class="line">df.iloc[[2, 4, 6, 8], [1, 3, 5]] = np.nan</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>数据如下所示<br><img src="/images/pandas-basic/07.png" alt="pic02"><br>此时通过<code>isna()</code>或者<code>notna()</code>查看缺失的情况</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">temp = df.isna()</span><br><span class="line">print(temp)</span><br></pre></td></tr></table></figure>

<p>结果如下所示<br><img src="/images/pandas-basic/08.png" alt="pic02"></p>
<h2 id="填充缺失值"><a href="#填充缺失值" class="headerlink" title="填充缺失值"></a>填充缺失值</h2><h3 id="填充相同的值"><a href="#填充相同的值" class="headerlink" title="填充相同的值"></a>填充相同的值</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t2 = df.fillna(0)</span><br><span class="line">print(t2)</span><br></pre></td></tr></table></figure>

<p>填充后数据如下<br><img src="/images/pandas-basic/09.png" alt="pic02"></p>
<h3 id="使用缺失值前面的值填充"><a href="#使用缺失值前面的值填充" class="headerlink" title="使用缺失值前面的值填充"></a>使用缺失值前面的值填充</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t2 = df.fillna(method=&apos;pad&apos;)</span><br><span class="line">print(t2)</span><br></pre></td></tr></table></figure>

<p>填充后数据如下<br><img src="/images/pandas-basic/10.png" alt="pic02"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">df.fillna(method=&apos;pad&apos;) #使用后面的值填充</span><br><span class="line">df.fillna(method=&apos;pad&apos;, limit=1)  # 连续缺失，限制最多填充一项</span><br></pre></td></tr></table></figure>

<h3 id="使用平均值填充"><a href="#使用平均值填充" class="headerlink" title="使用平均值填充"></a>使用平均值填充</h3><p>对c,e两列使用平均值填充</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t2 = df.fillna(df.mean()[&apos;C&apos;:&apos;E&apos;])</span><br><span class="line">print(t2)</span><br></pre></td></tr></table></figure>

<p>填充后的数据如下：<br><img src="/images/pandas-basic/11.png" alt="pic02"></p>
<h3 id="使用插值填充"><a href="#使用插值填充" class="headerlink" title="使用插值填充"></a>使用插值填充</h3><p><a href="https://pandas.pydata.org/pandas-docs/stable/reference/api/pandas.DataFrame.interpolate.html#pandas.DataFrame.interpolate" target="_blank" rel="noopener">官方文档</a></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"># 生成一个 DataFrame</span><br><span class="line">df = pd.DataFrame(&#123;&apos;A&apos;: [1.1, 2.2, np.nan, 4.5, 5.7, 6.9],</span><br><span class="line">                   &apos;B&apos;: [.21, np.nan, np.nan, 3.1, 11.7, 13.2]&#125;)</span><br><span class="line">print(df)</span><br><span class="line">df_interpolate = df.interpolate()</span><br><span class="line">print(df_interpolate)</span><br></pre></td></tr></table></figure>

<h1 id="6-数据可视化"><a href="#6-数据可视化" class="headerlink" title="6.数据可视化"></a>6.数据可视化</h1><p>可以使用 Pandas 提供的 <code>DataFrame.plot</code> 方法调用Matplotlib接口绘图。<br>简单易用，适合于数据的快速呈现和预览<br><a href="https://pandas.pydata.org/pandas-docs/stable/reference/frame.html#plotting" target="_blank" rel="noopener">官方文档</a></p>
<h2 id="准备数据"><a href="#准备数据" class="headerlink" title="准备数据"></a>准备数据</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">df = pd.DataFrame(&#123;&apos;A&apos;: [1.1, 2.2, np.nan, 4.5, 5.7, 6.9],</span><br><span class="line">                   &apos;B&apos;: [.21, np.nan, np.nan, 3.1, 11.7, 13.2]&#125;)</span><br><span class="line">print(df)</span><br><span class="line">df_interpolate = df.interpolate()</span><br><span class="line">print(df_interpolate)</span><br></pre></td></tr></table></figure>

<p><img src="/images/pandas-basic/12.png" alt="pic02"></p>
<h2 id="数据展示"><a href="#数据展示" class="headerlink" title="数据展示"></a>数据展示</h2><h3 id="线性图绘制"><a href="#线性图绘制" class="headerlink" title="线性图绘制"></a>线性图绘制</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">#...省略数据准备代码</span><br><span class="line">t=df_interpolate.plot()</span><br><span class="line">plt.show(t)</span><br></pre></td></tr></table></figure>

<p>展示的数据如图所示<br><img src="/images/pandas-basic/13.png" alt="pic02"></p>
<h3 id="柱状图绘制"><a href="#柱状图绘制" class="headerlink" title="柱状图绘制"></a>柱状图绘制</h3><p>也可以展示位柱状图</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t=df_interpolate.plot(kind=&apos;bar&apos;)</span><br><span class="line">plt.show(t)</span><br></pre></td></tr></table></figure>

<p>#参考文献<br>[1] <a href="https://www.shiyanlou.com/courses/906/learning/?id=3375" target="_blank" rel="noopener">https://www.shiyanlou.com/courses/906/learning/?id=3375</a><br>[2] <a href="https://blog.csdn.net/Ramer42/article/details/83178653" target="_blank" rel="noopener">https://blog.csdn.net/Ramer42/article/details/83178653</a></p>

    </div>

    
    
    
        
      

      <footer class="post-footer">
          
            
          
          <div class="post-tags">
            
              <a href="/tags/Python/" rel="tag"># Python</a>
            
              <a href="/tags/pandas/" rel="tag"># pandas</a>
            
          </div>
        

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
              
                <a href="/2019/10/30/docker-IDAPro/" rel="next" title="docker-IDAPro">
                  <i class="fa fa-chevron-left"></i> docker-IDAPro
                </a>
              
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
              
                <a href="/2019/11/02/matplotlib-basic/" rel="prev" title="matplotlib-basic">
                  matplotlib-basic <i class="fa fa-chevron-right"></i>
                </a>
              
            </div>
          </div>
        
      </footer>
    
  </div>
  
  
  
  </article>

  </div>


          </div>
          

        </div>
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">
        
        
        
        
      

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#1-pandas数据类型"><span class="nav-number">1.</span> <span class="nav-text">1. pandas数据类型</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#1-1Series简介"><span class="nav-number">1.1.</span> <span class="nav-text">1.1Series简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基于Python字典创建Series"><span class="nav-number">1.1.1.</span> <span class="nav-text">基于Python字典创建Series</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于NumPy一维ndarray数组创建"><span class="nav-number">1.1.2.</span> <span class="nav-text">基于NumPy一维ndarray数组创建</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#1-2-DataFrame简介"><span class="nav-number">1.2.</span> <span class="nav-text">1.2 DataFrame简介</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#基于列表字典创建"><span class="nav-number">1.2.1.</span> <span class="nav-text">基于列表字典创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于Series字典创建"><span class="nav-number">1.2.2.</span> <span class="nav-text">基于Series字典创建</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于字典列表"><span class="nav-number">1.2.3.</span> <span class="nav-text">基于字典列表</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#基于NumPy的二维ndarray创建"><span class="nav-number">1.2.4.</span> <span class="nav-text">基于NumPy的二维ndarray创建</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#2-数据读取"><span class="nav-number">2.</span> <span class="nav-text">2.数据读取</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#数据省略号解决方案"><span class="nav-number">2.1.</span> <span class="nav-text">数据省略号解决方案</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据预览"><span class="nav-number">2.2.</span> <span class="nav-text">数据预览</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#3-数据选择"><span class="nav-number">3.</span> <span class="nav-text">3.数据选择</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#基于索引选择"><span class="nav-number">3.1.</span> <span class="nav-text">基于索引选择</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#选择特定的行"><span class="nav-number">3.1.1.</span> <span class="nav-text">选择特定的行</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#选择特定的列"><span class="nav-number">3.1.2.</span> <span class="nav-text">选择特定的列</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#基于标签名选择"><span class="nav-number">3.2.</span> <span class="nav-text">基于标签名选择</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#4-数据删减"><span class="nav-number">4.</span> <span class="nav-text">4.数据删减</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#5-数据填充"><span class="nav-number">5.</span> <span class="nav-text">5.数据填充</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#检测缺失值"><span class="nav-number">5.1.</span> <span class="nav-text">检测缺失值</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#填充缺失值"><span class="nav-number">5.2.</span> <span class="nav-text">填充缺失值</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#填充相同的值"><span class="nav-number">5.2.1.</span> <span class="nav-text">填充相同的值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用缺失值前面的值填充"><span class="nav-number">5.2.2.</span> <span class="nav-text">使用缺失值前面的值填充</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用平均值填充"><span class="nav-number">5.2.3.</span> <span class="nav-text">使用平均值填充</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#使用插值填充"><span class="nav-number">5.2.4.</span> <span class="nav-text">使用插值填充</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#6-数据可视化"><span class="nav-number">6.</span> <span class="nav-text">6.数据可视化</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#准备数据"><span class="nav-number">6.1.</span> <span class="nav-text">准备数据</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#数据展示"><span class="nav-number">6.2.</span> <span class="nav-text">数据展示</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#线性图绘制"><span class="nav-number">6.2.1.</span> <span class="nav-text">线性图绘制</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#柱状图绘制"><span class="nav-number">6.2.2.</span> <span class="nav-text">柱状图绘制</span></a></li></ol></li></ol></li></ol></div>
        
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image"
      src="/assets/blogImages/headImag.jpg"
      alt="CoderSim">
  <p class="site-author-name" itemprop="name">CoderSim</p>
  <div class="site-description" itemprop="description"></div>
</div>
  <nav class="site-state motion-element">
      <div class="site-state-item site-state-posts">
        
          <a href="/archives/">
        
          <span class="site-state-item-count">13</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-categories">
        
          
            <a href="/categories/">
          
        
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span>
        </a>
      </div>
    
      
      
      <div class="site-state-item site-state-tags">
        
          
            <a href="/tags/">
          
        
        <span class="site-state-item-count">16</span>
        <span class="site-state-item-name">tags</span>
        </a>
      </div>
    
  </nav>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">CoderSim</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0</div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.0</div>

        












        
      </div>
    </footer>
  </div>

  


    
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="/lib/canvas-nest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.0"></script><script src="/js/motion.js?v=7.4.0"></script>
<script src="/js/schemes/pisces.js?v=7.4.0"></script>

<script src="/js/next-boot.js?v=7.4.0"></script>



  
  <script>
    (function(){
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      bp.src = (curProtocol === 'https') ? 'https://zz.bdstatic.com/linksubmit/push.js' : 'http://push.zhanzhang.baidu.com/push.js';
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>








  <script src="/js/local-search.js?v=7.4.0"></script>














  

  

  

</body>
</html>
